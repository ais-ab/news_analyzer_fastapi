{"ast":null,"code":"import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{useNavigate}from'react-router-dom';import{sourcesAPI,businessInterestAPI,newsAPI}from'../services/api';import{toast}from'react-hot-toast';import{Search,Globe,CheckCircle,Loader,ArrowRight,ArrowLeft,Target,BarChart3,Clock,ExternalLink,Calendar}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Analysis=()=>{var _businessInterests$fi;const[selectedSources,setSelectedSources]=useState([]);const[selectedBusinessInterest,setSelectedBusinessInterest]=useState(null);const[isAnalyzing,setIsAnalyzing]=useState(false);const navigate=useNavigate();const queryClient=useQueryClient();// Fetch sources\nconst{data:sourcesData,isLoading:sourcesLoading}=useQuery('sources',sourcesAPI.getAll);// Fetch business interests\nconst{data:businessInterests,isLoading:interestsLoading}=useQuery('business-interests',businessInterestAPI.getAll);// Fetch latest analysis session\nconst{data:latestSession}=useQuery('latest-session',async()=>{const sessions=await newsAPI.getSessions();return sessions.length>0?sessions[0]:null;},{refetchInterval:5000// Refetch every 5 seconds to check for new results\n});// Fetch latest results if session exists\nconst{data:latestResults}=useQuery(['latest-results',latestSession===null||latestSession===void 0?void 0:latestSession.id],()=>latestSession?newsAPI.getSession(latestSession.id):null,{enabled:!!latestSession,refetchInterval:5000});// Analysis mutation\nconst analysisMutation=useMutation(newsAPI.analyze,{onSuccess:data=>{console.log('Analysis completed:',data);toast.success('Analysis completed successfully!');// Navigate to results page with session ID\nnavigate(\"/results/\".concat(data.session_id));},onError:error=>{var _error$response,_error$response$data;console.error('Analysis error:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to complete analysis');}});const handleSourceToggle=sourceId=>{setSelectedSources(prev=>prev.includes(sourceId)?prev.filter(id=>id!==sourceId):[...prev,sourceId]);};const handleSelectAllSources=()=>{if(sourcesData!==null&&sourcesData!==void 0&&sourcesData.sources){setSelectedSources(sourcesData.sources.map(s=>s.source_id));}};const handleDeselectAllSources=()=>{setSelectedSources([]);};const handleStartAnalysis=async()=>{if(selectedSources.length===0){toast.error('Please select at least one source');return;}if(!selectedBusinessInterest){toast.error('Please select a business interest');return;}const selectedBusinessInterestData=businessInterests===null||businessInterests===void 0?void 0:businessInterests.find(interest=>interest.id===selectedBusinessInterest);if(!selectedBusinessInterestData){toast.error('Selected business interest not found');return;}const selectedSourceUrls=(sourcesData===null||sourcesData===void 0?void 0:sourcesData.sources.filter(source=>selectedSources.includes(source.source_id)).map(source=>source.source_url))||[];setIsAnalyzing(true);try{await analysisMutation.mutateAsync({business_interest:selectedBusinessInterestData.interest_text,sources:selectedSourceUrls});}finally{setIsAnalyzing(false);}};const getDomainFromUrl=url=>{try{return new URL(url).hostname.replace('www.','');}catch(_unused){return url;}};if(sourcesLoading||interestsLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(Loader,{className:\"animate-spin h-8 w-8 text-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(Search,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"News Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Select your sources and business interest to analyze news\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-5 w-5 mr-2\"}),\"Business Interest\"]}),businessInterests&&businessInterests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:businessInterests.map(interest=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedBusinessInterest(interest.id),className:\"p-4 rounded-lg border transition-colors text-left \".concat(selectedBusinessInterest===interest.id?'border-blue-500 bg-blue-50 text-blue-900':'border-gray-300 hover:border-gray-400'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:interest.interest_text}),selectedBusinessInterest===interest.id&&/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-blue-600\"})]})},interest.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No business interests found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/business-interest'),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:\"Add Business Interest\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Globe,{className:\"h-5 w-5 mr-2\"}),\"News Sources (\",selectedSources.length,\" selected)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAllSources,className:\"text-sm text-blue-600 hover:text-blue-700\",children:\"Select All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeselectAllSources,className:\"text-sm text-gray-600 hover:text-gray-700\",children:\"Deselect All\"})]})]}),sourcesData&&sourcesData.sources.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",children:sourcesData.sources.map(source=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSourceToggle(source.source_id),className:\"p-4 rounded-lg border transition-colors text-left \".concat(selectedSources.includes(source.source_id)?'border-green-500 bg-green-50 text-green-900':'border-gray-300 hover:border-gray-400'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:getDomainFromUrl(source.source_url)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 truncate\",children:source.source_url})]}),selectedSources.includes(source.source_id)&&/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-600\"})]})},source.source_id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No sources found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/sources'),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700\",children:\"Add Sources\"})]})]}),(selectedSources.length>0||selectedBusinessInterest)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-blue-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 mr-2\"}),\"Analysis Summary\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-5 w-5 text-blue-600 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Business Interest\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedBusinessInterest?businessInterests===null||businessInterests===void 0?void 0:(_businessInterests$fi=businessInterests.find(i=>i.id===selectedBusinessInterest))===null||_businessInterests$fi===void 0?void 0:_businessInterests$fi.interest_text:'Not selected'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Globe,{className:\"h-5 w-5 text-green-600 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Sources Selected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedSources.length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-purple-600 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Estimated Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"2-5 minutes\"})]})]})})]})]}),latestResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-green-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 mr-2\"}),\"Latest Analysis Results\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Articles\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-gray-900\",children:latestResults.total_articles})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Relevant Articles\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-gray-900\",children:latestResults.relevant_articles})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Analysis Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-bold text-gray-900\",children:new Date(latestResults.analysis_date).toLocaleDateString()})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-orange-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Session ID\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-bold text-gray-900\",children:[\"#\",latestSession===null||latestSession===void 0?void 0:latestSession.id]})]})]})})]}),latestResults.articles&&latestResults.articles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-green-800 mb-3\",children:\"Sample Articles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:latestResults.articles.slice(0,3).map((article,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-1\",children:article.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[article.content.substring(0,150),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-3 w-3 mr-1\"}),article.published_date||'Date not available']}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:article.source})]})]}),article.url&&/*#__PURE__*/_jsx(\"a\",{href:article.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"ml-4 p-2 text-gray-400 hover:text-green-600 transition-colors\",children:/*#__PURE__*/_jsx(ExternalLink,{className:\"h-4 w-4\"})})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/results/\".concat(latestSession===null||latestSession===void 0?void 0:latestSession.id)),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"mr-2 h-4 w-4\"}),\"View Full Results\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>queryClient.invalidateQueries(['latest-results',latestSession===null||latestSession===void 0?void 0:latestSession.id]),className:\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:[/*#__PURE__*/_jsx(ArrowRight,{className:\"mr-2 h-4 w-4\"}),\"Refresh Results\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/sources'),className:\"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"mr-2 h-4 w-4\"}),\"Back to Sources\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartAnalysis,disabled:isAnalyzing||selectedSources.length===0||!selectedBusinessInterest,className:\"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"animate-spin -ml-1 mr-2 h-4 w-4\"}),\"Analyzing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Start Analysis\",/*#__PURE__*/_jsx(ArrowRight,{className:\"ml-2 h-4 w-4\"})]})})]})]});};export default Analysis;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","useNavigate","sourcesAPI","businessInterestAPI","newsAPI","toast","Search","Globe","CheckCircle","Loader","ArrowRight","ArrowLeft","Target","BarChart3","Clock","ExternalLink","Calendar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Analysis","_businessInterests$fi","selectedSources","setSelectedSources","selectedBusinessInterest","setSelectedBusinessInterest","isAnalyzing","setIsAnalyzing","navigate","queryClient","data","sourcesData","isLoading","sourcesLoading","getAll","businessInterests","interestsLoading","latestSession","sessions","getSessions","length","refetchInterval","latestResults","id","getSession","enabled","analysisMutation","analyze","onSuccess","console","log","success","concat","session_id","onError","error","_error$response","_error$response$data","response","detail","handleSourceToggle","sourceId","prev","includes","filter","handleSelectAllSources","sources","map","s","source_id","handleDeselectAllSources","handleStartAnalysis","selectedBusinessInterestData","find","interest","selectedSourceUrls","source","source_url","mutateAsync","business_interest","interest_text","getDomainFromUrl","url","URL","hostname","replace","_unused","className","children","onClick","i","total_articles","relevant_articles","Date","analysis_date","toLocaleDateString","articles","slice","article","index","title","content","substring","published_date","href","target","rel","invalidateQueries","disabled"],"sources":["/Users/yousifkashef/PyCharmMiscProject/news_analyzer_fastapi/frontend/src/pages/Analysis.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { useNavigate } from 'react-router-dom';\nimport { sourcesAPI, businessInterestAPI, newsAPI } from '../services/api';\nimport { toast } from 'react-hot-toast';\nimport { \n  Search, \n  Globe, \n  CheckCircle, \n  Loader, \n  ArrowRight,\n  ArrowLeft,\n  Target,\n  BarChart3,\n  Clock,\n  ExternalLink,\n  Calendar\n} from 'lucide-react';\n\nconst Analysis: React.FC = () => {\n  const [selectedSources, setSelectedSources] = useState<number[]>([]);\n  const [selectedBusinessInterest, setSelectedBusinessInterest] = useState<number | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n\n  // Fetch sources\n  const { data: sourcesData, isLoading: sourcesLoading } = useQuery(\n    'sources',\n    sourcesAPI.getAll\n  );\n\n  // Fetch business interests\n  const { data: businessInterests, isLoading: interestsLoading } = useQuery(\n    'business-interests',\n    businessInterestAPI.getAll\n  );\n\n  // Fetch latest analysis session\n  const { data: latestSession } = useQuery(\n    'latest-session',\n    async () => {\n      const sessions = await newsAPI.getSessions();\n      return sessions.length > 0 ? sessions[0] : null;\n    },\n    {\n      refetchInterval: 5000, // Refetch every 5 seconds to check for new results\n    }\n  );\n\n  // Fetch latest results if session exists\n  const { data: latestResults } = useQuery(\n    ['latest-results', latestSession?.id],\n    () => latestSession ? newsAPI.getSession(latestSession.id) : null,\n    {\n      enabled: !!latestSession,\n      refetchInterval: 5000,\n    }\n  );\n\n  // Analysis mutation\n  const analysisMutation = useMutation(\n    newsAPI.analyze,\n    {\n      onSuccess: (data) => {\n        console.log('Analysis completed:', data);\n        toast.success('Analysis completed successfully!');\n        // Navigate to results page with session ID\n        navigate(`/results/${data.session_id}`);\n      },\n      onError: (error: any) => {\n        console.error('Analysis error:', error);\n        toast.error(error.response?.data?.detail || 'Failed to complete analysis');\n      },\n    }\n  );\n\n  const handleSourceToggle = (sourceId: number) => {\n    setSelectedSources(prev => \n      prev.includes(sourceId) \n        ? prev.filter(id => id !== sourceId)\n        : [...prev, sourceId]\n    );\n  };\n\n  const handleSelectAllSources = () => {\n    if (sourcesData?.sources) {\n      setSelectedSources(sourcesData.sources.map(s => s.source_id));\n    }\n  };\n\n  const handleDeselectAllSources = () => {\n    setSelectedSources([]);\n  };\n\n  const handleStartAnalysis = async () => {\n    if (selectedSources.length === 0) {\n      toast.error('Please select at least one source');\n      return;\n    }\n\n    if (!selectedBusinessInterest) {\n      toast.error('Please select a business interest');\n      return;\n    }\n\n    const selectedBusinessInterestData = businessInterests?.find(\n      interest => interest.id === selectedBusinessInterest\n    );\n\n    if (!selectedBusinessInterestData) {\n      toast.error('Selected business interest not found');\n      return;\n    }\n\n    const selectedSourceUrls = sourcesData?.sources\n      .filter(source => selectedSources.includes(source.source_id))\n      .map(source => source.source_url) || [];\n\n    setIsAnalyzing(true);\n    try {\n      await analysisMutation.mutateAsync({\n        business_interest: selectedBusinessInterestData.interest_text,\n        sources: selectedSourceUrls\n      });\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const getDomainFromUrl = (url: string) => {\n    try {\n      return new URL(url).hostname.replace('www.', '');\n    } catch {\n      return url;\n    }\n  };\n\n  if (sourcesLoading || interestsLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader className=\"animate-spin h-8 w-8 text-blue-600\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <div className=\"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4\">\n          <Search className=\"h-8 w-8 text-blue-600\" />\n        </div>\n        <h1 className=\"text-3xl font-bold text-gray-900\">News Analysis</h1>\n        <p className=\"mt-2 text-gray-600\">\n          Select your sources and business interest to analyze news\n        </p>\n      </div>\n\n      {/* Business Interest Selection */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <Target className=\"h-5 w-5 mr-2\" />\n          Business Interest\n        </h2>\n        \n        {businessInterests && businessInterests.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {businessInterests.map((interest) => (\n              <button\n                key={interest.id}\n                onClick={() => setSelectedBusinessInterest(interest.id)}\n                className={`p-4 rounded-lg border transition-colors text-left ${\n                  selectedBusinessInterest === interest.id\n                    ? 'border-blue-500 bg-blue-50 text-blue-900'\n                    : 'border-gray-300 hover:border-gray-400'\n                }`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium\">{interest.interest_text}</span>\n                  {selectedBusinessInterest === interest.id && (\n                    <CheckCircle className=\"h-5 w-5 text-blue-600\" />\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500 mb-4\">No business interests found</p>\n            <button\n              onClick={() => navigate('/business-interest')}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              Add Business Interest\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Source Selection */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-xl font-semibold text-gray-900 flex items-center\">\n            <Globe className=\"h-5 w-5 mr-2\" />\n            News Sources ({selectedSources.length} selected)\n          </h2>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={handleSelectAllSources}\n              className=\"text-sm text-blue-600 hover:text-blue-700\"\n            >\n              Select All\n            </button>\n            <button\n              onClick={handleDeselectAllSources}\n              className=\"text-sm text-gray-600 hover:text-gray-700\"\n            >\n              Deselect All\n            </button>\n          </div>\n        </div>\n\n        {sourcesData && sourcesData.sources.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n            {sourcesData.sources.map((source) => (\n              <button\n                key={source.source_id}\n                onClick={() => handleSourceToggle(source.source_id)}\n                className={`p-4 rounded-lg border transition-colors text-left ${\n                  selectedSources.includes(source.source_id)\n                    ? 'border-green-500 bg-green-50 text-green-900'\n                    : 'border-gray-300 hover:border-gray-400'\n                }`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <div className=\"font-medium\">\n                      {getDomainFromUrl(source.source_url)}\n                    </div>\n                    <div className=\"text-sm text-gray-500 truncate\">\n                      {source.source_url}\n                    </div>\n                  </div>\n                  {selectedSources.includes(source.source_id) && (\n                    <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500 mb-4\">No sources found</p>\n            <button\n              onClick={() => navigate('/sources')}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700\"\n            >\n              Add Sources\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Analysis Summary */}\n      {(selectedSources.length > 0 || selectedBusinessInterest) && (\n        <div className=\"bg-blue-50 rounded-lg p-6\">\n          <h3 className=\"text-lg font-semibold text-blue-900 mb-4 flex items-center\">\n            <BarChart3 className=\"h-5 w-5 mr-2\" />\n            Analysis Summary\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <Target className=\"h-5 w-5 text-blue-600 mr-2\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Business Interest</p>\n                  <p className=\"font-medium\">\n                    {selectedBusinessInterest \n                      ? businessInterests?.find(i => i.id === selectedBusinessInterest)?.interest_text\n                      : 'Not selected'\n                    }\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <Globe className=\"h-5 w-5 text-green-600 mr-2\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Sources Selected</p>\n                  <p className=\"font-medium\">{selectedSources.length}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <Clock className=\"h-5 w-5 text-purple-600 mr-2\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Estimated Time</p>\n                  <p className=\"font-medium\">2-5 minutes</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Latest Results */}\n      {latestResults && (\n        <div className=\"bg-green-50 rounded-lg p-6\">\n          <h3 className=\"text-lg font-semibold text-green-900 mb-4 flex items-center\">\n            <BarChart3 className=\"h-5 w-5 mr-2\" />\n            Latest Analysis Results\n          </h3>\n          \n          {/* Summary Statistics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-blue-100 rounded-lg\">\n                  <BarChart3 className=\"h-4 w-4 text-blue-600\" />\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-600\">Total Articles</p>\n                  <p className=\"text-lg font-bold text-gray-900\">\n                    {latestResults.total_articles}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-green-100 rounded-lg\">\n                  <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-600\">Relevant Articles</p>\n                  <p className=\"text-lg font-bold text-gray-900\">\n                    {latestResults.relevant_articles}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                  <Clock className=\"h-4 w-4 text-purple-600\" />\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-600\">Analysis Date</p>\n                  <p className=\"text-sm font-bold text-gray-900\">\n                    {new Date(latestResults.analysis_date).toLocaleDateString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-orange-100 rounded-lg\">\n                  <Calendar className=\"h-4 w-4 text-orange-600\" />\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-600\">Session ID</p>\n                  <p className=\"text-sm font-bold text-gray-900\">\n                    #{latestSession?.id}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Sample Articles */}\n          {latestResults.articles && latestResults.articles.length > 0 && (\n            <div className=\"mb-4\">\n              <h4 className=\"text-md font-semibold text-green-800 mb-3\">Sample Articles</h4>\n              <div className=\"space-y-3\">\n                {latestResults.articles.slice(0, 3).map((article, index) => (\n                  <div\n                    key={index}\n                    className=\"bg-white p-4 rounded-lg border border-green-200\"\n                  >\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <h5 className=\"font-medium text-gray-900 mb-1\">\n                          {article.title}\n                        </h5>\n                        <p className=\"text-sm text-gray-600 mb-2\">\n                          {article.content.substring(0, 150)}...\n                        </p>\n                        <div className=\"flex items-center space-x-4 text-xs text-gray-500\">\n                          <span className=\"flex items-center\">\n                            <Calendar className=\"h-3 w-3 mr-1\" />\n                            {article.published_date || 'Date not available'}\n                          </span>\n                          <span className=\"font-medium text-gray-700\">{article.source}</span>\n                        </div>\n                      </div>\n                      {article.url && (\n                        <a\n                          href={article.url}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"ml-4 p-2 text-gray-400 hover:text-green-600 transition-colors\"\n                        >\n                          <ExternalLink className=\"h-4 w-4\" />\n                        </a>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => navigate(`/results/${latestSession?.id}`)}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n            >\n              <BarChart3 className=\"mr-2 h-4 w-4\" />\n              View Full Results\n            </button>\n            <button\n              onClick={() => queryClient.invalidateQueries(['latest-results', latestSession?.id])}\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n            >\n              <ArrowRight className=\"mr-2 h-4 w-4\" />\n              Refresh Results\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation and Actions */}\n      <div className=\"flex justify-between\">\n        <button\n          onClick={() => navigate('/sources')}\n          className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ArrowLeft className=\"mr-2 h-4 w-4\" />\n          Back to Sources\n        </button>\n        <button\n          onClick={handleStartAnalysis}\n          disabled={isAnalyzing || selectedSources.length === 0 || !selectedBusinessInterest}\n          className=\"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isAnalyzing ? (\n            <>\n              <Loader className=\"animate-spin -ml-1 mr-2 h-4 w-4\" />\n              Analyzing...\n            </>\n          ) : (\n            <>\n              Start Analysis\n              <ArrowRight className=\"ml-2 h-4 w-4\" />\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Analysis; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}